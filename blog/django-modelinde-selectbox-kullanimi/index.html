<!doctype html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Django modelinde selectbox kullanÄ±mÄ±</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="Kodun okunaklÄ±ÄŸÄ±nÄ± koruyarak Django&#39;da genel bir selectbox Ã§Ã¶zÃ¼mÃ¼ iÃ§in Ã¶nerim var: Choice class.">
    <meta property="og:site_name" content="GKMNGRGN" />
    <meta property="og:locale" content="nn_NO" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://gokmengorgen.net/blog/django-modelinde-selectbox-kullanimi/" />
    <meta property="og:title" content="Django modelinde selectbox kullanÄ±mÄ±" />
    <meta property="og:image" content="https://gokmengorgen.net/img/django-choice-class.jpg" />
    <meta property="og:description" content="Kodun okunaklÄ±ÄŸÄ±nÄ± koruyarak Django&#39;da genel bir selectbox Ã§Ã¶zÃ¼mÃ¼ iÃ§in Ã¶nerim var: Choice class." />

    
        <meta property="twitter:site" content="@gokmengorgen">
    

    <meta property="twitter:title" content="Django modelinde selectbox kullanÄ±mÄ±" />
    <meta property="twitter:image" content="https://gokmengorgen.net/img/django-choice-class.jpg" />
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:description" content="Kodun okunaklÄ±ÄŸÄ±nÄ± koruyarak Django&#39;da genel bir selectbox Ã§Ã¶zÃ¼mÃ¼ iÃ§in Ã¶nerim var: Choice class." />

    
        <meta name="flattr:id" content="62knje">
    

    <link rel="canonical" href="https://gokmengorgen.net/blog/django-modelinde-selectbox-kullanimi/">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha256-Md8eaeo67OiouuXAi8t/Xpd8t2+IaJezATVTWbZqSOw=" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://gokmengorgen.net/css/main.css" />

    
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css" integrity="sha256-w6kCMnFvhY2tI1OnsYR/rb5DG9yFGodJknvFZOkp51E=" crossorigin="anonymous" />
    

    
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/progressively/1.2.5/progressively.min.css" integrity="sha256-xbqLYBMsjpuCihs+3Fgp/MFMtPdo2SWKoOjEWOqR4X0=" crossorigin="anonymous" />
    

    <link rel="shortcut icon"
        href="https://gokmengorgen.net/img/laughing-man-favicon.png">

    

    <noscript>
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,700,700i" rel="stylesheet">
    </noscript>
</head>

<body>
    
    <div class="my-4 my-md-5 header">
    <div class="container">
        <div class="row">
            <div class="col-auto offset-md-1 d-none d-md-block">
                
                    <a href="https://gokmengorgen.net/">
                        <img class="ml-md-4 logo" src="https://gokmengorgen.net/img/laughing-man.png" alt="logo">
                    </a>
                
            </div>
            <div class="col-auto align-self-center">
                <a href="https://gokmengorgen.net/">
                    <h1 class="font-weight-bold name">GKMNGRGN</h1>
                </a>

                <ul class="nav nav-primary">
                    
                        <li class="nav-item">
                            <a class="text-uppercase nav-link text-blog" href="https://gokmengorgen.net/blog/">
                                
                                Blog
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="text-uppercase nav-link text-my-work" href="https://alageek.com">
                                
                                My work
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="text-uppercase nav-link text-live" href="https://gokmengorgen.net/live/">
                                ðŸ“¹
                                Live
                            </a>
                        </li>
                    
                </ul>

                <ul class="nav nav-secondary">
                    
                        <li class="nav-item">
                            <a class="text-uppercase font-weight-bold nav-link text-patreon" href="https://www.patreon.com/bePatron?u=10637849">
                                
                                Become a patron
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="text-uppercase font-weight-bold nav-link text-bmc" href="https://www.buymeacoffee.com/gokmen">
                                
                                Buy me a coffee
                            </a>
                        </li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>


    <div class="content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-sm-12 col-md-10">
                    <h1 class="mx-0 mx-md-4">Django modelinde selectbox kullanÄ±mÄ±</h1>

                    <div class="mb-4 mb-md-5 meta">
                        <span class="date" title="Sun May 27 2018 16:45:30 CEST">
                            May 27, 2018
                        </span>

                        
                            
                        

                        <span class="reading-time middot">
                            2 minute read
                        </span>

                        <div class="d-none d-md-inline tags">
                            <ul class="list-unstyled d-inline">
                                
                                    <li class="d-inline middot">
                                        <a href="https://gokmengorgen.net/tags/coding">coding</a>
                                    </li>
                                
                                    <li class="d-inline middot">
                                        <a href="https://gokmengorgen.net/tags/django">django</a>
                                    </li>
                                
                            </ul>
                        </div>

                        <div class="d-none d-md-inline tags">
                            <ul class="list-unstyled d-inline">
                                
                                
                            </ul>
                        </div>
                    </div>

                    <div class="markdown">
                        
    
    <p><figure class="progressive"><img class="progressive__img progressive--not-loaded" data-progressive="https://gokmengorgen.net/img/django-choice-class.jpg" src="https://gokmengorgen.net/img/low/django-choice-class.jpg" alt="" /></p></figure>

<p>Bazen bir model field&rsquo;Ä±nda kullanÄ±mÄ± sÄ±nÄ±rlandÄ±rmak veya veriyi denetlemek iÃ§in basit Ã§Ã¶zÃ¼mlere ihtiyacÄ±mÄ±z var. Ã–rneÄŸin, bir araba markasÄ± sorulduÄŸunda kullanÄ±cÄ±nÄ±n kafadan veri giriÅŸini engellemek veya Opel - opel gibi bÃ¼yÃ¼k - kÃ¼Ã§Ã¼k farklarÄ±ndan dolayÄ± oluÅŸacak gereksiz seÃ§enek bÃ¶lÃ¼nmelerini Ã¶nlemek gerekir.</p>

<p><a href="https://gokmengorgen.net/django-notlarim/">Django notlarÄ±m</a>&lsquo;da sÃ¼rekli dile getirdiÄŸim konu var, bir ÅŸeye ihtiyaÃ§ duyduÄŸunuzda:</p>

<ol>
<li>Mutlaka Django&rsquo;nun <a href="https://docs.djangoproject.com/">kendi dÃ¶kÃ¼mantasyonuna</a> bir gÃ¶z atÄ±n.</li>
<li>Mutlaka baÅŸkalarÄ± nasÄ±l Ã§Ã¶zmÃ¼ÅŸ diye araÅŸtÄ±rÄ±n.</li>
</ol>

<p>Django dÃ¶kÃ¼mantasyonundaki <a href="https://docs.djangoproject.com/en/2.0/ref/models/fields/#django.db.models.Field.choices">bir Ã¶rneÄŸi</a> alalÄ±m ve onun Ã¼zerinden gidelim:</p>

<pre><code class="language-python">class Student(models.Model):
    FRESHMAN = 'FR'
    SOPHOMORE = 'SO'
    JUNIOR = 'JR'
    SENIOR = 'SR'
    YEAR_IN_SCHOOL_CHOICES = (
        (FRESHMAN, 'Freshman'),
        (SOPHOMORE, 'Sophomore'),
        (JUNIOR, 'Junior'),
        (SENIOR, 'Senior'),
    )
    year_in_school = models.CharField(max_length=2, choices=YEAR_IN_SCHOOL_CHOICES, default=FRESHMAN)

    def is_upperclass(self):
        return self.year_in_school in (self.JUNIOR, self.SENIOR)
</code></pre>

<p>Bazen Ã¶yle ÅŸeyler oluyor ki, bir modele ihtiyaÃ§ duymadan bu seÃ§eneklere Ã§eÅŸitli katmanlarda eriÅŸmek gerekebiliyor veya bu tip seÃ§enekleri herhangi bir model tanÄ±mlamadan, Ã¶rneÄŸin formda kullanmak durumunda kalabiliyorsunuz, o zaman da &ldquo;Bunu <strong>models.py</strong>&lsquo;de tuttuk, Ã¶bÃ¼rÃ¼nÃ¼ niye <strong>forms.py</strong>&lsquo;ye yazdÄ±k?&rdquo; diye kendinize sorabilirsiniz. Ben bu tip ortak kullanÄ±lan ÅŸeyleri, ilgili uygulama iÃ§inde <strong>choices.py</strong> veya <strong>utils.py</strong> gibi bir dosya oluÅŸturup kullanÄ±yorum. Ã–rneÄŸin:</p>

<pre><code class="language-python"># hello_student/utils.py

class StudentChoice(object):
    FRESHMAN = 'FR'
    SOPHOMORE = 'SO'
    JUNIOR = 'JR'
    SENIOR = 'SR'

    @classmethod
    def get_choices(cls):
        choices = (
            (cls.FRESHMAN, &quot;Freshman&quot;),
            (cls.SOPHOMORE, &quot;Sophomore&quot;),
            (cls.JUNIOR, &quot;Junior&quot;),
            (cls.SENIOR, &quot;Senior&quot;),
        )
        return choices
</code></pre>

<pre><code class="language-python"># hello_student/models.py
from hello_student.utils import StudentChoice


class Student(models.Model):
    year_in_school = models.CharField(
        max_length=2, choices=StudentChoice.get_choices(), default=StudentChoice.FRESHMAN)

    def is_upperclass(self):
        return self.year_in_school in (StudentChoice.JUNIOR, StudentChoice.SENIOR)
</code></pre>

<p>Form&rsquo;da da kullansak, View katmanÄ±nda da kullansak benim yÃ¶ntemim hep bu. SeÃ§enekleri gruplamak istersek:</p>

<pre><code class="language-python"># hello_student/utils.py
class StudentChoice(object):
    ...
    @classmethod
    def get_choices(cls):
        choices = (
            (&quot;Starting class&quot;, (
                (cls.FRESHMAN, &quot;Freshman&quot;),
                (cls.SOPHOMORE, &quot;Sophomore&quot;),
            )),
            (&quot;Upper class&quot;, (
                (cls.JUNIOR, &quot;Junior&quot;),
                (cls.SENIOR, &quot;Senior&quot;),
            ))
        )
        return choices
</code></pre>

<p><figure class="progressive"><img class="progressive__img progressive--not-loaded" data-progressive="https://gokmengorgen.net/img/hello-student-choices.gif" src="https://gokmengorgen.net/img/low/hello-student-choices.gif" alt="Grouped choices" title="GruplanmÄ±ÅŸ seÃ§enekler" /></p></figure>

<p>Peki, seÃ§enekleri taÅŸÄ±dÄ±k, varsayÄ±lan seÃ§enek ayarÄ±nÄ± da aynÄ± yerde tutsak?</p>

<pre><code class="language-python"># hello_student/utils.py
class StudentChoice(object):
    ...
    @classmethod
    def get_default(cls):
        return cls.FRESHMAN
</code></pre>

<pre><code class="language-python"># hello_student/models.py

class Student(models.Model):
    year_in_school = models.CharField(
        max_length=2, choices=StudentChoice.get_choices(), default=StudentChoice.get_default())
</code></pre>

<p>Hatta bir ÅŸey daha yapalÄ±m, seÃ§enekle ilgili yardÄ±mcÄ± fonksiyonlarÄ± da aynÄ± yerden yÃ¶netelim:</p>

<pre><code class="language-python"># hello_student/utils.py

class StudentChoice(object):
    ...
    @classmethod
    def is_upperclass(cls, choice):
        return choice in (cls.JUNIOR, cls.SENIOR)
</code></pre>

<p>Bu durumda Ã¼st sÄ±nÄ±f olup olmadÄ±ÄŸÄ± kontrolÃ¼nÃ¼ ÅŸÃ¶yle yapardÄ±k:</p>

<pre><code class="language-python">is_upperclass = StudentChoice.is_upperclass(student.year_in_school)
</code></pre>

<p>BÃ¶ylece <strong>models.py</strong> dosyamÄ±zÄ± biraz daha temiz tutmuÅŸ olduk. Bunu alÄ±ÅŸkanlÄ±k haline getirirsek, projenin herhangi bir yerinde selectbox, multiple selectbox ve benzeri bir ÅŸey ihtiyacÄ±mÄ±z olduÄŸunda nereye bakacaÄŸÄ±mÄ±zÄ± bilmiÅŸ oluruz.</p>



                    </div>

                    
                        <div class="navigation">
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    
                                        <div class="mx-0 mx-md-4 mt-4 text-left">
                                            <img class="icon" src="https://gokmengorgen.net/img/back.svg" alt="back" />
                                            <a href="https://gokmengorgen.net/blog/stres/">Stres</a>
                                        </div>
                                    
                                </div>
                                <div class="col-12 col-md-6">
                                    
                                        <div class="mx-0 mx-md-4 mt-4 text-right">
                                            <a href="https://gokmengorgen.net/blog/daha-guclu-powershell/">Daha gÃ¼Ã§lÃ¼ PowerShell</a>
                                            <img class="icon" src="https://gokmengorgen.net/img/next.svg" alt="next" />
                                        </div>
                                    
                                </div>
                            </div>
                        </div>
                    
                </div>
            </div>
        </div>
    </div>

    <div class="my-4 footer">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-sm-12 col-md-5">
                
                    <div class="mx-0 mx-md-4 text-left">
                        
                            <a href="https://gokmengorgen.net/license">Â© 2018 by GÃ¶kmen GÃ¶rgen.</a>
                        
                    </div>
                
            </div>
            <div class="col-sm-12 col-md-5">
                <div class="mx-0 mx-md-4 text-right">
                    

                    

                    

                    
                        <a href="https://github.com/gkmngrgn" target="_blank">
                            <img class="icon" src="https://gokmengorgen.net/img/github.svg" alt="github" />
                        </a>
                    

                    
                        <a href="https://twitter.com/gokmengorgen" target="_blank">
                            <img class="icon" src="https://gokmengorgen.net/img/twitter.svg" alt="twitter" />
                        </a>
                    

                    
                        <a href="https://www.linkedin.com/in/gokmengorgen" target="_blank">
                            <img class="icon" src="https://gokmengorgen.net/img/linkedin.svg" alt="linkedin" />
                        </a>
                    

                    
                        <a href="mailto:gokmen@alageek.com">
                            <img class="icon" src="https://gokmengorgen.net/img/email.svg" alt="email" />
                        </a>
                    

                    
                        <a href="https://gokmengorgen.net/index.xml">
                            <img class="icon" src="https://gokmengorgen.net/img/rss.svg" alt="rss" />
                        </a>
                    
                </div>
            </div>
        </div>
    </div>
</div>



    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha256-xaF9RpdtRxzwYMWg4ldJoyPWqyDPCRD0Cv7YEEe6Ie8=" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js" integrity="sha256-4O4pS1SH31ZqrSO2A/2QJTVjTPqVe+jnYgOWUVr7EEc=" crossorigin="anonymous"></script>
    <script>
        WebFont.load({
            google: {
                families: ['Raleway:400,600,700', 'Merriweather:300,300i,700,700i']
            }
        });
    </script>

    
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/cs.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/css.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/diff.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/django.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/dockerfile.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/nginx.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/powershell.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js" defer></script>
        
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js" defer></script>
        
        <script>
            window.addEventListener('load', function() {
                hljs.initHighlighting();
            }, true);
        </script>
    

    
        <script src="//cdnjs.cloudflare.com/ajax/libs/progressively/1.2.5/progressively.min.js" integrity="sha256-LvFVlLdfGI3WeEH+8Ni4kxLm02g2GlOfeGCGLXfRk/U=" crossorigin="anonymous"></script>
        <script>
            window.addEventListener('load', function() {
                progressively.init({delay: 30, throttle: 50});
            }, true);
        </script>
    

    

    
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-54304543-3', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

    
<script>
    (function (m, a, i, l, e, r) {
        m['MailerLiteObject'] = e; function f() {
            var c = { a: arguments, q: [] }; var r = this.push(c); return "number" != typeof r ? r : f.bind(c.q);
        }
        f.q = f.q || []; m[e] = m[e] || f.bind(f.q); m[e].q = m[e].q || f.q; r = a.createElement(i);
        var _ = a.getElementsByTagName(i)[0]; r.async = 1; r.src = l + '?v' + (~~(new Date().getTime() / 1000000));
        _.parentNode.insertBefore(r, _);
    })(window, document, 'script', 'https://static.mailerlite.com/js/universal.js', 'ml');

    var ml_account = ml('accounts', '1180610', 'p6p1h3r0l3', 'load');
</script>


<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55bfede7196e342d"></script>

</body>

</html>
