<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>How do I publish my articles? - GKMNGRGN</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="I have many projects using my script named DOSH and the parameters are mostly in common.">
    <meta property="og:site_name" content="GKMNGRGN" />
    <meta property="og:locale" content="nn_NO" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://gokmengorgen.net/en/blog/how-do-i-publish-my-articles/" />
    <meta property="og:title" content="How do I publish my articles?" />
    <meta property="og:image" content="https://gokmengorgen.net//images/image.jpg" />
    <meta property="og:description" content="I have many projects using my script named DOSH and the parameters are mostly in common." />

    
        <meta property="twitter:site" content="@gokmengorgen">
    

    <meta property="twitter:title" content="How do I publish my articles?" />
    <meta property="twitter:image" content="https://gokmengorgen.net//images/image.jpg" />
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:description" content="I have many projects using my script named DOSH and the parameters are mostly in common." />

    
        <meta name="flattr:id" content="62knje">
    

    <link rel="canonical" href="https://gokmengorgen.net/en/blog/how-do-i-publish-my-articles/">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha256-azvvU9xKluwHFJ0Cpgtf0CYzK7zgtOznnzxV4924X1w=" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://gokmengorgen.net/css/main.css" />

    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css" integrity="sha256-w6kCMnFvhY2tI1OnsYR/rb5DG9yFGodJknvFZOkp51E=" crossorigin="anonymous" />
    

    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/progressively/1.2.5/progressively.min.css" integrity="sha256-xbqLYBMsjpuCihs+3Fgp/MFMtPdo2SWKoOjEWOqR4X0=" crossorigin="anonymous" />
    

    <link rel="shortcut icon"
        href="https://gokmengorgen.net/img/laughing-man-favicon.png">

    

    <noscript>
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,700,700i" rel="stylesheet">
    </noscript>
</head>

<body>
    
    <div class="my-4 my-md-5 header">
    <div class="container">
        <div class="row">
            <div class="col-auto offset-md-1 d-none d-md-block">
                
                    <a href="https://gokmengorgen.net/">
                        <img class="ml-md-4 logo" src="https://gokmengorgen.net/img/laughing-man.png" alt="logo">
                    </a>
                
            </div>
            <div class="col-auto align-self-center mr-auto">
                <a href="https://gokmengorgen.net/">
                    <h1 class="font-weight-bold name">GKMNGRGN</h1>
                </a>

                <ul class="nav nav-primary">
                    
                        <li class="nav-item">
                            <a class="text-uppercase nav-link text-blog" href="https://gokmengorgen.net/blog/">
                                
                                Blog
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="text-uppercase nav-link text-my-work" href="https://alageek.com">
                                
                                My work
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="text-uppercase nav-link text-live" href="https://gokmengorgen.net/live/">
                                ðŸ“¹
                                Live
                            </a>
                        </li>
                    

                    
                </ul>

                <ul class="nav nav-secondary">
                    
                        <li class="nav-item">
                            <a class="text-uppercase font-weight-bold nav-link text-patreon" href="https://www.patreon.com/bePatron?u=10637849">
                                
                                Become a patron
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="text-uppercase font-weight-bold nav-link text-bmc" href="https://www.buymeacoffee.com/gokmen">
                                
                                Buy me a coffee
                            </a>
                        </li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>


    <div class="content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-sm-12 col-md-10">
                    <h1 class="mx-0 mx-md-4">How do I publish my articles?</h1>

                    <div class="mb-4 mb-md-5 meta">
                        <span class="date" title='Sun Dec 30 2018 15:06:17 CET'>
                            December 30, 2018
                        </span>

                        
                            
                        

                        <span class="reading-time middot">
                            4 minutes
                        </span>

                        <div class="d-none d-md-inline tags">
                            <ul class="list-unstyled d-inline">
                                
                                    <li class="d-inline middot">
                                        <a href="https://gokmengorgen.net/en/tags/bash">bash</a>
                                    </li>
                                
                                    <li class="d-inline middot">
                                        <a href="https://gokmengorgen.net/en/tags/powershell">powershell</a>
                                    </li>
                                
                                    <li class="d-inline middot">
                                        <a href="https://gokmengorgen.net/en/tags/devops">devops</a>
                                    </li>
                                
                            </ul>
                        </div>

                        <div class="d-none d-md-inline tags">
                            <ul class="list-unstyled d-inline">
                                
                                
                            </ul>
                        </div>
                    </div>

                    <div class="markdown">
                        
    
    

<p>With just a command:</p>

<pre><code class="language-shell"># terminal
$ ENV=PROD ./do.sh deploy
</code></pre>

<p>I have many projects using my script named <a href="https://gist.github.com/gkmngrgn/48303742353b0b17ae0e5c2d1d24ec3e">DOSH</a> and the parameters are mostly in common; <code>deploy</code>, <code>start</code>, <code>stop</code>, <code>runtests</code>, etc. It can be a .NET Core or a Django project, or just a website using any static site generator like <a href="https://gohugo.io/">this one</a> but I run all the projects with the same command: <code>dosh start</code>.</p>

<p>In Windows, the command may be a bit longer than in the other operating systems. So it&rsquo;s a good idea to shorten the command using some aliases, the default environment is <code>DEV</code>:</p>

<pre><code class="language-bash"># ~/.bash_profile
alias dosh=&quot;winpty bash do.sh&quot;  # or just type &quot;./do.sh&quot; in Linux or MacOS.
</code></pre>

<pre><code class="language-shell"># terminal
$ dosh start  # in DEV
$ ENV=PROD dosh deploy  # in PROD, my deploy parameter works only in production.
</code></pre>

<p>Do you use PowerShell? No problem, I think it&rsquo;s better to do the same thing in PowerShell, you can find the sample codes below, but let me show you how I use that, it&rsquo;s a bit different than BASH:</p>

<pre><code class="language-powershell"># powershell
~\Workspace\website [master â‰¡]&gt; $env:ENV = &quot;PROD&quot;
~\Workspace\website [master â‰¡]&gt; dosh deploy
Environment: production
Deploying updates to GitHub...
Building sites â€¦
                   | EN | TR
+------------------+----+----+
  Pages            | 13 | 67
  Paginator pages  |  0 |  0
  Non-page files   |  0 |  0
  Static files     | 63 | 63
  Processed images |  0 |  0
  Aliases          |  1 | 12
  Sitemaps         |  2 |  1
  Cleaned          |  0 |  0

Total in 748 ms
[master 1686121] rebuilding site 12/30/2018 15:02:32
 1 file changed, 3 insertions(+), 3 deletions(-)
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 12 threads
Compressing objects: 100% (4/4), done.
Writing objects: 100% (5/5), 628 bytes | 628.00 KiB/s, done.
Total 5 (delta 3), reused 0 (delta 0)
remote: Resolving deltas: 100% (3/3), completed with 3 local objects.
To github.com:gkmngrgn/gkmngrgn.github.io.git
   733793b..1686121  master -&gt; master
DONE.
</code></pre>

<h2 id="code-samples">Code samples</h2>

<p>You can find many sample codes here to write a deployment script and I didn&rsquo;t think of this idea <strong>first</strong> but still, I&rsquo;m sharing my scripts to be an alternative:</p>

<h3 id="do-sh">./do.sh</h3>

<pre><code class="language-bash">#!/usr/bin/env bash

BLUE=&quot;\\033[1;34m&quot;
GREEN=&quot;\\033[1;32m&quot;
NORMAL=&quot;\\033[0;39m&quot;
RED=&quot;\\033[1;31m&quot;

print_help() {
    echo -e &quot;${BLUE}Available environments${NORMAL}&quot;
    echo &quot;  - DEV (default)&quot;
    echo &quot;  - PROD&quot;
    echo &quot;  - STAGING&quot;
    echo &quot;&quot;
    echo -e &quot;${BLUE}Available commands${NORMAL}&quot;
    echo -e &quot;  &gt; deploy [:message]      Deploy the changes&quot;
    echo -e &quot;  &gt; start                  Run development server&quot;
}

deploy() {
    case ${ENV} in
        &quot;PROD&quot;)
            echo -e &quot;${BLUE}Deploying updates to GitHub...${NORMAL}&quot;
            ;;
        *)
            echo -e &quot;${RED}This command only works in production.${NORMAL}&quot;
            exit
            ;;
    esac

    if [ $# -eq 1 ]
    then msg=&quot;${1}&quot;
    else msg=&quot;rebuilding site `date`&quot;
    fi

    hugo
    cd public
    git add .
    git commit -m &quot;${msg}&quot;
    git push origin master
    cd ..
    echo -e &quot;${GREEN}DONE.${NORMAL}&quot;
}

start() {
    hugo server -D
}

if [ -z &quot;$1&quot; ]
then
    print_help
else
    case $ENV in
        &quot;PROD&quot;)
            env_str=&quot;production&quot;
            ;;
        &quot;STAGING&quot;)
            env_str=&quot;staging&quot;
            ;;
        *)
            env_str=&quot;development&quot;
            ;;
    esac
    echo -e &quot;${BLUE}Environment:${NORMAL} $env_str&quot;
    &quot;$@&quot;
fi
</code></pre>

<h3 id="do-ps1">./do.ps1</h3>

<pre><code class="language-powershell">&lt;# Variables #&gt;
if ($env:ENV -eq &quot;PROD&quot;) {
    $env_str = &quot;production&quot;
}
elseif ($env:ENV -eq &quot;STAGING&quot;) {
    $env_str = &quot;staging&quot;
}
else {
    if ($env:ENV -ne &quot;DEV&quot;) {
        $env:ENV = &quot;DEV&quot;
    }
    $env_str = &quot;development&quot;
}

&lt;# Functions #&gt;
function Get-Help {
    Write-Host -ForegroundColor Cyan &quot;Available Environments&quot;
    Write-Output &quot;  - DEV (default)&quot;
    Write-Output &quot;  - PROD&quot;
    Write-Output &quot;  - STAGING&quot;
    Write-Output &quot;&quot;

    Write-Host -ForegroundColor Cyan &quot;Available commands&quot;
    Write-Output &quot;  &gt; deploy [:message]      Deploy the changes&quot;
    Write-Output &quot;  &gt; start                  Run development server&quot;
}

function Start-Deploy ([string] $subParams) {
    if ($env:ENV -eq &quot;PROD&quot;) {
        Write-Host -ForegroundColor Blue &quot;Deploying updates to GitHub...&quot;
    }
    else {
        Write-Host -ForegroundColor Red &quot;This command only works in production.&quot;
        exit
    }

    if ($subParams -eq &quot;&quot;) {
        $msg = &quot;rebuilding site $(Get-Date)&quot;
    } else {
        $msg = $subParams
    }

    Invoke-Expression &quot;hugo&quot;
    Invoke-Expression &quot;cd public&quot;
    Invoke-Expression &quot;git add .&quot;
    Invoke-Expression &quot;git commit -m '$msg'&quot;
    Invoke-Expression &quot;git push origin master&quot;
    Invoke-Expression &quot;cd ..&quot;
    Write-Host -ForegroundColor Green &quot;DONE.&quot;
}

function Start-Server () {
    Invoke-Expression &quot;hugo server -D&quot;
}

&lt;# Set default parameter as help. #&gt;
if ($args.Length -eq 0) {
    $param = &quot;help&quot;
    $subParams = &quot;&quot;
}
else {
    $param, $subParams = $args
}

if ($param -ne &quot;help&quot;) {
    Write-Host -ForegroundColor Cyan -NoNewLine &quot;Environment: &quot;
    Write-Output $env_str
}

&lt;# We use switch instead of alias because there are some constant variables like `start`. #&gt;
switch ($param) {
    &quot;deploy&quot; { Start-Deploy $subParams }
    &quot;start&quot; { Start-Server }
    Default { Get-Help }
}
</code></pre>

<p>Don&rsquo;t forget to set the alias in your config file, for example:</p>

<pre><code class="language-powershell"># ~\Documents\PowerShell\profile.ps1
$env:ENV = &quot;DEV&quot;
Set-Alias dosh .\do.ps1
</code></pre>



                    </div>

                    
                        <div class="navigation">
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    
                                        <div class="mx-0 mx-md-4 mt-4 text-left">
                                            <img class="icon" src="https://gokmengorgen.net/img/back.svg" alt="back" />
                                            <a href="https://gokmengorgen.net/en/blog/important-windows-environment-variables/">Important Windows environment variables</a>
                                        </div>
                                    
                                </div>
                                <div class="col-12 col-md-6">
                                    
                                        <div class="mx-0 mx-md-4 mt-4 text-right">
                                            <a href="https://gokmengorgen.net/en/blog/spreasheet-apps/">Spreadsheet applications</a>
                                            <img class="icon" src="https://gokmengorgen.net/img/next.svg" alt="next" />
                                        </div>
                                    
                                </div>
                            </div>
                        </div>
                    
                </div>
            </div>
        </div>
    </div>

    <div class="my-4 footer">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-sm-12 col-md-5">
                
                    <div class="mx-0 mx-md-4 mb-2 text-center text-md-left">
                        
                            <a href="https://gokmengorgen.net/en/license/">Â© 2018 - 2019 by GÃ¶kmen GÃ¶rgen.</a>
                        
                    </div>
                
            </div>
            <div class="col-sm-12 col-md-5">
                <div class="mx-0 mx-md-4 text-center text-md-right">
                    

                    

                    

                    
                        <a href="https://github.com/gkmngrgn" target="_blank" class="mx-1 ml-md-2 mr-md-0">
                            <img class="icon" src="https://gokmengorgen.net/img/github.svg" alt="github" />
                        </a>
                    

                    
                        <a href="https://twitter.com/gokmengorgen" target="_blank" class="mx-1 ml-md-2 mr-md-0">
                            <img class="icon" src="https://gokmengorgen.net/img/twitter.svg" alt="twitter" />
                        </a>
                    

                    
                        <a href="https://www.linkedin.com/in/gokmengorgen" target="_blank" class="mx-1 ml-md-2 mr-md-0">
                            <img class="icon" src="https://gokmengorgen.net/img/linkedin.svg" alt="linkedin" />
                        </a>
                    

                    
                        <a href="mailto:gokmen@alageek.com" class="mx-1 ml-md-2 mr-md-0">
                            <img class="icon" src="https://gokmengorgen.net/img/email.svg" alt="email" />
                        </a>
                    

                    
                        <a href="https://gokmengorgen.net/index.xml" class="mx-1 ml-md-2 mr-md-0">
                            <img class="icon" src="https://gokmengorgen.net/img/rss.svg" alt="rss" />
                        </a>
                    

                    
                </div>
            </div>
        </div>
    </div>
</div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha256-63ld7aiYP6UxBifJWEzz87ldJyVnETUABZAYs5Qcsmc=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js" integrity="sha256-4O4pS1SH31ZqrSO2A/2QJTVjTPqVe+jnYgOWUVr7EEc=" crossorigin="anonymous"></script>
    <script>
        WebFont.load({
            google: {
                families: ['Raleway:400,600,700', 'Merriweather:300,300i,700,700i']
            }
        });
    </script>

    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/cs.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/css.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/diff.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/django.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/dockerfile.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/nginx.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/powershell.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js" defer></script>
        
        <script>
            window.addEventListener('load', function() {
                hljs.initHighlighting();
            }, true);
        </script>
    

    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/progressively/1.2.5/progressively.min.js" integrity="sha256-LvFVlLdfGI3WeEH+8Ni4kxLm02g2GlOfeGCGLXfRk/U=" crossorigin="anonymous"></script>
        <script>
            window.addEventListener('load', function() {
                progressively.init({delay: 30, throttle: 50});
            }, true);
        </script>
    

    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-54304543-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
<script>
    (function (m, a, i, l, e, r) {
        m['MailerLiteObject'] = e; function f() {
            var c = { a: arguments, q: [] }; var r = this.push(c); return "number" != typeof r ? r : f.bind(c.q);
        }
        f.q = f.q || []; m[e] = m[e] || f.bind(f.q); m[e].q = m[e].q || f.q; r = a.createElement(i);
        var _ = a.getElementsByTagName(i)[0]; r.async = 1; r.src = l + '?v' + (~~(new Date().getTime() / 1000000));
        _.parentNode.insertBefore(r, _);
    })(window, document, 'script', 'https://static.mailerlite.com/js/universal.js', 'ml');

    var ml_account = ml('accounts', '1180610', 'p6p1h3r0l3', 'load');
</script>


<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55bfede7196e342d"></script>

</body>

</html>
